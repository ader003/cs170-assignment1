1. Hash repeated states :: CHECK
2. increment g_n
3.